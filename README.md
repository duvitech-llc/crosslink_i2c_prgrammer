# Crosslink Programming over I2C

Use the RPI I2C1 peripheral and GPIO4 to program a Lattice Crosslink FPGA

## Requirements
Test using a Raspberry PI3 running Raspberry Pi OS 64-bit

Install the following Packages and enable I2C

```
sudo apt-get install -y libi2c-dev libc6-dev pigpio build-essential
```

## Connections 
Connect the following lines between the RPI and Crosslink FPGA

RPI             Crosslink FPGA
------------------------------
GPIO4   <--->   CRESET
SCL     <--->   SCL
SDA     <--->   SDA
GND     <--->   GND

Set your bitstream file to the following define:

#define BITSTREAM_FILE "test.bit" 


## Build and Run the program

Modify the bitstream file name to your bitstream file to program the FPGA with and change to the directory where the makefile resides.
Run make to build the program.

```
make
```

You must run the program with admin rights and have the bitsream file generated by Lattice Diamond in the same directory

```
sudo ./xlink-i2c
```


